_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[20],{RNiq:function(e,t,n){"use strict";n.r(t),n.d(t,"__N_SSP",(function(){return h}));var a=n("q1tI"),c=n.n(a),o=n("/MKj"),i=n("ODXe"),r=n("Vl3Y"),l=n("5rEg"),u=n("2/Rp"),s=n("p+NB"),d=n("8QKS"),f=c.a.createElement,p=function(){var e=Object(o.c)((function(e){return e.post})),t=e.imagePaths,n=e.addPostDone,c=e.addPostLoading,p=Object(d.a)(""),m=Object(i.a)(p,3),b=m[0],g=m[1],h=m[2],v=Object(o.b)(),w=Object(a.useRef)();Object(a.useEffect)((function(){n&&h("")}),[n]);var E=Object(a.useCallback)((function(){var e=new FormData;return t.forEach((function(t){e.append("image",t)})),e.append("content",b),v({type:s.e,data:e})}),[b,t]),O=Object(a.useCallback)((function(){w.current.click()}),[w.current]),j=Object(a.useCallback)((function(e){console.log("images",e.target.files);var t=new FormData;[].forEach.call(e.target.files,(function(e){t.append("image",e)})),v({type:s.G,data:t})}),[]),y=Object(a.useCallback)((function(e){return function(){v({type:s.v,data:e})}}),[]);return f(r.a,{style:{margin:"10px 0 20px"},encType:"multipart/form-data",onFinish:E},f(l.a.TextArea,{value:b,onChange:g,maxLength:140,placeholder:"\uc5b4\ub5a4 \uc77c\uc774 \uc0dd\uacbc\ub098\uc694"}),f("div",null,f("input",{type:"file",name:"image",multiple:!0,hidden:!0,ref:w,onChange:j}),f(u.a,{onClick:O},"\uc774\ubbf8\uc9c0 \uc5c5\ub85c\ub4dc"),f(u.a,{type:"primary",style:{float:"right"},htmlType:"submit",loading:c},"\uc9f9\uca31")),f("div",null,t.map((function(e,t){return f("div",{key:e,style:{display:"inline-block"}},f("img",{src:"http://localhost:3001/".concat(e),style:{width:"200px"},alt:e}),f("div",null,f(u.a,{onClick:y(t)},"\uc81c\uac70")))}))))},m=n("kduo"),b=n("1zst"),g=c.a.createElement,h=!0;t.default=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.user})).me,n=Object(o.c)((function(e){return e.post})),c=n.mainPosts,i=n.hasMorePosts,r=n.loadPostsLoading,l=n.retweetError;return Object(a.useEffect)((function(){l&&alert(l)}),[l]),Object(a.useEffect)((function(){function t(){if(window.pageYOffset+document.documentElement.clientHeight>document.documentElement.scrollHeight-300&&i&&!r){var t,n=null===(t=c[c.length-1])||void 0===t?void 0:t.id;e({type:s.n,lastId:n})}}return window.addEventListener("scroll",t),function(){window.removeEventListener("scroll",t)}}),[i,r,c]),g(b.a,null,t&&g(p,null),c.map((function(e){return g(m.a,{key:e.id,post:e})})))}},vlRD:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n("RNiq")}])}},[["vlRD",1,2,10,11,9,7,8,0,3,4,5,6,12]]]);