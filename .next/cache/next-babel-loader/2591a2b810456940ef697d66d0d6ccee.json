{"ast":null,"code":"var _jsxFileName = \"/Users/js/Desktop/sansbook/pages/profile.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport AppLayout from \"../components/AppLayout\";\nimport Head from \"next/head\";\nimport NicknameEditForm from \"../components/NicknameEditForm\";\nimport FollowList from \"../components/FollowList\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useEffect } from \"react\";\nimport Router from \"next/router\";\nimport { LOAD_FOLLOWERS_REQUEST, LOAD_FOLLOWINGS_REQUEST } from \"../reducers/user\";\nimport useSWR from \"swr\";\nconst fetcher = url => axios.get(url, {\n  withCredentials: true\n}).then(result => result.data);\nconst Profile = () => {\n  const dispatch = useDispatch();\n  const {\n    data: followersData,\n    error: followerError\n  } = useSWR(\"http://localhost:3000/user/followers\", fetcher);\n  const {\n    data: followingsData,\n    error: followingError\n  } = useSWR(\"http://localhost:3000/user/followings\", fetcher);\n  const {\n    me\n  } = useSelector(state => state.user);\n  // useEffect(() => {\n  //   dispatch({\n  //     type: LOAD_FOLLOWINGS_REQUEST,\n  //   });\n  //   dispatch({\n  //     type: LOAD_FOLLOWERS_REQUEST,\n  //   });\n  // }, []);\n  console.log(\"@@@@@@\", me);\n  useEffect(() => {\n    if (!(me && me.id)) {\n      Router.push(\"/\");\n    }\n  }, [me && me.id]);\n  if (!me) {\n    return \"내정보 로딩중\";\n  }\n  if (followerError || followingError) {\n    console.error(followerError || followingError);\n    return \"팔로잉/팔로워 로딩 중 에러가 발생했습니다.\";\n  }\n  return __jsx(React.Fragment, null, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, __jsx(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, \"\\uB0B4\\uD504\\uB85C\\uD544 | Sansbook \")), __jsx(AppLayout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, __jsx(NicknameEditForm, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }), __jsx(FollowList, {\n    header: \"\\uD314\\uB85C\\uC789 \\uBAA9\\uB85D\",\n    data: me.Followings,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }), __jsx(FollowList, {\n    header: \"\\uD314\\uB85C\\uC6CC \\uBAA9\\uB85D\",\n    data: me.Followers,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  })));\n};\nexport default Profile;","map":{"version":3,"names":["AppLayout","Head","NicknameEditForm","FollowList","useDispatch","useSelector","useEffect","Router","LOAD_FOLLOWERS_REQUEST","LOAD_FOLLOWINGS_REQUEST","useSWR","fetcher","url","axios","get","withCredentials","then","result","data","Profile","dispatch","followersData","error","followerError","followingsData","followingError","me","state","user","console","log","id","push","__jsx","React","Fragment","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","header","Followings","Followers"],"sources":["/Users/js/Desktop/sansbook/pages/profile.js"],"sourcesContent":["import AppLayout from \"../components/AppLayout\";\nimport Head from \"next/head\";\nimport NicknameEditForm from \"../components/NicknameEditForm\";\nimport FollowList from \"../components/FollowList\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useEffect } from \"react\";\nimport Router from \"next/router\";\nimport {\n  LOAD_FOLLOWERS_REQUEST,\n  LOAD_FOLLOWINGS_REQUEST,\n} from \"../reducers/user\";\nimport useSWR from \"swr\";\n\nconst fetcher = (url) =>\n  axios.get(url, { withCredentials: true }).then((result) => result.data);\n\nconst Profile = () => {\n  const dispatch = useDispatch();\n  const { data: followersData, error: followerError } = useSWR(\n    \"http://localhost:3000/user/followers\",\n    fetcher\n  );\n  const { data: followingsData, error: followingError } = useSWR(\n    \"http://localhost:3000/user/followings\",\n    fetcher\n  );\n\n  const { me } = useSelector((state) => state.user);\n  // useEffect(() => {\n  //   dispatch({\n  //     type: LOAD_FOLLOWINGS_REQUEST,\n  //   });\n  //   dispatch({\n  //     type: LOAD_FOLLOWERS_REQUEST,\n  //   });\n  // }, []);\n  console.log(\"@@@@@@\", me);\n  useEffect(() => {\n    if (!(me && me.id)) {\n      Router.push(\"/\");\n    }\n  }, [me && me.id]);\n\n  if (!me) {\n    return \"내정보 로딩중\";\n  }\n\n  if (followerError || followingError) {\n    console.error(followerError || followingError);\n    return \"팔로잉/팔로워 로딩 중 에러가 발생했습니다.\";\n  }\n\n  return (\n    <>\n      <Head>\n        <title>내프로필 | Sansbook </title>\n      </Head>\n      <AppLayout>\n        <NicknameEditForm />\n        <FollowList header=\"팔로잉 목록\" data={me.Followings} />\n        <FollowList header=\"팔로워 목록\" data={me.Followers} />\n      </AppLayout>\n    </>\n  );\n};\n\nexport default Profile;\n"],"mappings":";;;AAAA,OAAOA,SAAS,MAAM,yBAAyB;AAC/C,OAAOC,IAAI,MAAM,WAAW;AAC5B,OAAOC,gBAAgB,MAAM,gCAAgC;AAC7D,OAAOC,UAAU,MAAM,0BAA0B;AACjD,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SAASC,SAAS,QAAQ,OAAO;AACjC,OAAOC,MAAM,MAAM,aAAa;AAChC,SACEC,sBAAsB,EACtBC,uBAAuB,QAClB,kBAAkB;AACzB,OAAOC,MAAM,MAAM,KAAK;AAExB,MAAMC,OAAO,GAAIC,GAAG,IAClBC,KAAK,CAACC,GAAG,CAACF,GAAG,EAAE;EAAEG,eAAe,EAAE;AAAK,CAAC,CAAC,CAACC,IAAI,CAAEC,MAAM,IAAKA,MAAM,CAACC,IAAI,CAAC;AAEzE,MAAMC,OAAO,GAAGA,CAAA,KAAM;EACpB,MAAMC,QAAQ,GAAGhB,WAAW,EAAE;EAC9B,MAAM;IAAEc,IAAI,EAAEG,aAAa;IAAEC,KAAK,EAAEC;EAAc,CAAC,GAAGb,MAAM,CAC1D,sCAAsC,EACtCC,OAAO,CACR;EACD,MAAM;IAAEO,IAAI,EAAEM,cAAc;IAAEF,KAAK,EAAEG;EAAe,CAAC,GAAGf,MAAM,CAC5D,uCAAuC,EACvCC,OAAO,CACR;EAED,MAAM;IAAEe;EAAG,CAAC,GAAGrB,WAAW,CAAEsB,KAAK,IAAKA,KAAK,CAACC,IAAI,CAAC;EACjD;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACAC,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEJ,EAAE,CAAC;EACzBpB,SAAS,CAAC,MAAM;IACd,IAAI,EAAEoB,EAAE,IAAIA,EAAE,CAACK,EAAE,CAAC,EAAE;MAClBxB,MAAM,CAACyB,IAAI,CAAC,GAAG,CAAC;IAClB;EACF,CAAC,EAAE,CAACN,EAAE,IAAIA,EAAE,CAACK,EAAE,CAAC,CAAC;EAEjB,IAAI,CAACL,EAAE,EAAE;IACP,OAAO,SAAS;EAClB;EAEA,IAAIH,aAAa,IAAIE,cAAc,EAAE;IACnCI,OAAO,CAACP,KAAK,CAACC,aAAa,IAAIE,cAAc,CAAC;IAC9C,OAAO,0BAA0B;EACnC;EAEA,OACEQ,KAAA,CAAAC,KAAA,CAAAC,QAAA,QACEF,KAAA,CAAChC,IAAI;IAAAmC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACHR,KAAA;IAAAG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,0CAA+B,CAC1B,EACPR,KAAA,CAACjC,SAAS;IAAAoC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACRR,KAAA,CAAC/B,gBAAgB;IAAAkC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,EAAG,EACpBR,KAAA,CAAC9B,UAAU;IAACuC,MAAM,EAAC,iCAAQ;IAACxB,IAAI,EAAEQ,EAAE,CAACiB,UAAW;IAAAP,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,EAAG,EACnDR,KAAA,CAAC9B,UAAU;IAACuC,MAAM,EAAC,iCAAQ;IAACxB,IAAI,EAAEQ,EAAE,CAACkB,SAAU;IAAAR,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,EAAG,CACxC,CACX;AAEP,CAAC;AAED,eAAetB,OAAO"},"metadata":{},"sourceType":"module"}