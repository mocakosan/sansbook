{"ast":null,"code":"var _jsxFileName = \"/Users/js/Desktop/sansbook/pages/post/[id].js\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport { useRouter } from \"next/router\";\nimport { LOAD_POST_REQUEST } from \"../../reducers/post\";\nimport { LOAD_MY_INFO_REQUEST } from \"../../reducers/user\";\nimport wrapper from \"../../store/configureStore\";\nimport axios from \"axios\";\nconst Post = () => {\n  const router = useRouter();\n  const {\n    id\n  } = router.query;\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 10\n    }\n  }, id, \"\\uBC88\");\n};\n\n//SSR : next전용 서버사이드 렌더링 = 사용\nexport const getServerSideProps = wrapper.getServerSideProps(store => async context => {\n  const cookie = context.req ? context.req.headers.cookie : \"\";\n  axios.defaults.headers.Cookie = cookie;\n  if (context.req && cookie) {\n    //쿠키를 써서 요청을 보냈을떄만 잠시 보관해두었다가 쿠키 안써서 요청보낼떄는 서버에서 공유하고 있는 쿠키를 제거하는\n    axios.defaults.headers.Cookie = cookie; //잘못하면 내 뒤로 로그인하는 사람이 내쿠키를 공유해서 내정보로 로그인하는 현상이 일어나서 해두는 조치\n  }\n\n  store.dispatch({\n    type: LOAD_MY_INFO_REQUEST\n  });\n  store.dispatch({\n    type: LOAD_POST_REQUEST,\n    data: context.params.id\n  });\n  store.dispatch(END);\n  await store.sagaTask.toPromise();\n});\nexport default Post;","map":{"version":3,"names":["React","useRouter","LOAD_POST_REQUEST","LOAD_MY_INFO_REQUEST","wrapper","axios","Post","router","id","query","__jsx","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","getServerSideProps","store","context","cookie","req","headers","defaults","Cookie","dispatch","type","data","params","END","sagaTask","toPromise"],"sources":["/Users/js/Desktop/sansbook/pages/post/[id].js"],"sourcesContent":["import React from \"react\";\nimport { useRouter } from \"next/router\";\nimport { LOAD_POST_REQUEST } from \"../../reducers/post\";\nimport { LOAD_MY_INFO_REQUEST } from \"../../reducers/user\";\nimport wrapper from \"../../store/configureStore\";\nimport axios from \"axios\";\n\nconst Post = () => {\n  const router = useRouter();\n  const { id } = router.query;\n  return <div>{id}번</div>;\n};\n\n//SSR : next전용 서버사이드 렌더링 = 사용\nexport const getServerSideProps = wrapper.getServerSideProps(\n  (store) => async (context) => {\n    const cookie = context.req ? context.req.headers.cookie : \"\";\n    axios.defaults.headers.Cookie = cookie;\n    if (context.req && cookie) {\n      //쿠키를 써서 요청을 보냈을떄만 잠시 보관해두었다가 쿠키 안써서 요청보낼떄는 서버에서 공유하고 있는 쿠키를 제거하는\n      axios.defaults.headers.Cookie = cookie; //잘못하면 내 뒤로 로그인하는 사람이 내쿠키를 공유해서 내정보로 로그인하는 현상이 일어나서 해두는 조치\n    }\n    store.dispatch({\n      type: LOAD_MY_INFO_REQUEST,\n    });\n    store.dispatch({\n      type: LOAD_POST_REQUEST,\n      data: context.params.id,\n    });\n    store.dispatch(END);\n    await store.sagaTask.toPromise();\n  }\n);\n\nexport default Post;\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,QAAQ,aAAa;AACvC,SAASC,iBAAiB,QAAQ,qBAAqB;AACvD,SAASC,oBAAoB,QAAQ,qBAAqB;AAC1D,OAAOC,OAAO,MAAM,4BAA4B;AAChD,OAAOC,KAAK,MAAM,OAAO;AAEzB,MAAMC,IAAI,GAAGA,CAAA,KAAM;EACjB,MAAMC,MAAM,GAAGN,SAAS,EAAE;EAC1B,MAAM;IAAEO;EAAG,CAAC,GAAGD,MAAM,CAACE,KAAK;EAC3B,OAAOC,KAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAMR,EAAE,WAAQ;AACzB,CAAC;;AAED;AACA,OAAO,MAAMS,kBAAkB,GAAGb,OAAO,CAACa,kBAAkB,CACzDC,KAAK,IAAK,MAAOC,OAAO,IAAK;EAC5B,MAAMC,MAAM,GAAGD,OAAO,CAACE,GAAG,GAAGF,OAAO,CAACE,GAAG,CAACC,OAAO,CAACF,MAAM,GAAG,EAAE;EAC5Df,KAAK,CAACkB,QAAQ,CAACD,OAAO,CAACE,MAAM,GAAGJ,MAAM;EACtC,IAAID,OAAO,CAACE,GAAG,IAAID,MAAM,EAAE;IACzB;IACAf,KAAK,CAACkB,QAAQ,CAACD,OAAO,CAACE,MAAM,GAAGJ,MAAM,CAAC,CAAC;EAC1C;;EACAF,KAAK,CAACO,QAAQ,CAAC;IACbC,IAAI,EAAEvB;EACR,CAAC,CAAC;EACFe,KAAK,CAACO,QAAQ,CAAC;IACbC,IAAI,EAAExB,iBAAiB;IACvByB,IAAI,EAAER,OAAO,CAACS,MAAM,CAACpB;EACvB,CAAC,CAAC;EACFU,KAAK,CAACO,QAAQ,CAACI,GAAG,CAAC;EACnB,MAAMX,KAAK,CAACY,QAAQ,CAACC,SAAS,EAAE;AAClC,CAAC,CACF;AAED,eAAezB,IAAI"},"metadata":{},"sourceType":"module"}